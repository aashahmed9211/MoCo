EESchema Schematic File Version 2
LIBS:MoCo_v0.1-rescue
LIBS:power
LIBS:device
LIBS:switches
LIBS:relays
LIBS:motors
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:AUIRS2110S
LIBS:ice3br4765jgxuma1
LIBS:QFP50P1400X1400X160-80N
LIBS:dk_Addressable-Specialty
LIBS:dk_Alarms-Buzzers-and-Sirens
LIBS:dk_Automotive-Relays
LIBS:dk_Balun
LIBS:dk_Barrel-Audio-Connectors
LIBS:dk_Battery-Holders-Clips-Contacts
LIBS:dk_Clock-Timing-Clock-Generators-PLLs-Frequency-Synthesizers
LIBS:dk_Clock-Timing-Programmable-Timers-and-Oscillators
LIBS:dk_Clock-Timing-Real-Time-Clocks
LIBS:dk_Coaxial-Connectors-RF
LIBS:dk_Current-Transducers
LIBS:dk_Data-Acquisition-ADCs-DACs-Special-Purpose
LIBS:dk_Data-Acquisition-Analog-to-Digital-Converters-ADC
LIBS:dk_Data-Acquisition-Digital-Potentiometers
LIBS:dk_Data-Acquisition-Digital-to-Analog-Converters-DAC
LIBS:dk_Data-Acquisition-Touch-Screen-Controllers
LIBS:dk_DC-DC-Converters
LIBS:dk_Digital-Isolators
LIBS:dk_Diodes-Bridge-Rectifiers
LIBS:dk_Diodes-Rectifiers-Arrays
LIBS:dk_Diodes-Rectifiers-Single
LIBS:dk_Diodes-Zener-Single
LIBS:dk_Display-Modules-LCD-OLED-Graphic
LIBS:dk_Display-Modules-LED-Character-and-Numeric
LIBS:dk_D-Sub-Connectors
LIBS:dk_Embedded-Microcontrollers
LIBS:dk_Encoders
LIBS:dk_Evaluation-Boards-Sensors
LIBS:dk_Ferrite-Beads-and-Chips
LIBS:dk_Fixed-Inductors
LIBS:dk_Fuses
LIBS:dk_Gas-Sensors
LIBS:dk_Humidity-Moisture-Sensors
LIBS:dk_Image-Sensors-Camera
LIBS:dk_Infrared-UV-Visible-Emitters
LIBS:dk_Inrush-Current-Limiters-ICL
LIBS:dk_Interface-Analog-Switches-Multiplexers-Demultiplexers
LIBS:dk_Interface-Analog-Switches-Special-Purpose
LIBS:dk_Interface-Controllers
LIBS:dk_Interface-Drivers-Receivers-Transceivers
LIBS:dk_Interface-I-O-Expanders
LIBS:dk_Interface-Modules
LIBS:dk_Interface-Sensor-and-Detector-Interfaces
LIBS:dk_Interface-Sensor-Capacitive-Touch
LIBS:dk_Interface-Specialized
LIBS:dk_LED-Indication-Discrete
LIBS:dk_LEDs-Circuit-Board-Indicators-Arrays-Light-Bars-Bar-Graphs
LIBS:dk_Linear-Amplifiers-Audio
LIBS:dk_Linear-Amplifiers-Instrumentation-OP-Amps-Buffer-Amps
LIBS:dk_Linear-Comparators
LIBS:dk_Logic-Buffers-Drivers-Receivers-Transceivers
LIBS:dk_Logic-Flip-Flops
LIBS:dk_Logic-Gates-and-Inverters
LIBS:dk_Logic-Multivibrators
LIBS:dk_Logic-Shift-Registers
LIBS:dk_Logic-Signal-Switches-Multiplexers-Decoders
LIBS:dk_Logic-Translators-Level-Shifters
LIBS:dk_Magnetic-Sensors-Compass-Magnetic-Field-Modules
LIBS:dk_Magnetic-Sensors-Linear-Compass-ICs
LIBS:dk_Magnetic-Sensors-Switches-Solid-State
LIBS:dk_Memory
LIBS:dk_Memory-Connectors-PC-Card-Sockets
LIBS:dk_Microphones
LIBS:dk_Modular-Connectors-Jacks
LIBS:dk_Modular-Connectors-Jacks-With-Magnetics
LIBS:dk_Motion-Sensors-Accelerometers
LIBS:dk_Motion-Sensors-IMUs-Inertial-Measurement-Units
LIBS:dk_Motion-Sensors-Tilt-Switches
LIBS:dk_Navigation-Switches-Joystick
LIBS:dk_Optical-Sensors-Ambient-Light-IR-UV-Sensors
LIBS:dk_Optical-Sensors-Photo-Detectors-Remote-Receiver
LIBS:dk_Optical-Sensors-Photodiodes
LIBS:dk_Optical-Sensors-Phototransistors
LIBS:dk_Optical-Sensors-Reflective-Analog-Output
LIBS:dk_Optoisolators-Logic-Output
LIBS:dk_Optoisolators-Transistor-Photovoltaic-Output
LIBS:dk_Optoisolators-Triac-SCR-Output
LIBS:dk_Oscillators
LIBS:dk_PMIC-AC-DC-Converters-Offline-Switchers
LIBS:dk_PMIC-Battery-Chargers
LIBS:dk_PMIC-Battery-Management
LIBS:dk_PMIC-Current-Regulation-Management
LIBS:dk_PMIC-Full-Half-Bridge-Drivers
LIBS:dk_PMIC-Gate-Drivers
LIBS:dk_PMIC-LED-Drivers
LIBS:dk_PMIC-Motor-Drivers-Controllers
LIBS:dk_PMIC-OR-Controllers-Ideal-Diodes
LIBS:dk_PMIC-Power-Distribution-Switches-Load-Drivers
LIBS:dk_PMIC-Power-Management-Specialized
LIBS:dk_PMIC-RMS-to-DC-Converters
LIBS:dk_PMIC-Supervisors
LIBS:dk_PMIC-Thermal-Management
LIBS:dk_PMIC-V-F-and-F-V-Converters
LIBS:dk_PMIC-Voltage-Reference
LIBS:dk_PMIC-Voltage-Regulators-DC-DC-Switching-Controllers
LIBS:dk_PMIC-Voltage-Regulators-DC-DC-Switching-Regulators
LIBS:dk_PMIC-Voltage-Regulators-Linear
LIBS:dk_PMIC-Voltage-Regulators-Special-Purpose
LIBS:dk_Power-Relays-Over-2-Amps
LIBS:dk_Pressure-Sensors-Transducers
LIBS:dk_Programmable-Oscillators
LIBS:dk_Pushbutton-Switches
LIBS:dk_Rectangular-Connectors-Headers-Male-Pins
LIBS:dk_Reed-Relays
LIBS:dk_Resistor-Networks-Arrays
LIBS:dk_RF-Amplifiers
LIBS:dk_RF-Antennas
LIBS:dk_RF-Demodulators
LIBS:dk_RF-Detectors
LIBS:dk_RF-Evaluation-and-Development-Kits-Boards
LIBS:dk_RFID-RF-Access-Monitoring-ICs
LIBS:dk_RF-Receivers
LIBS:dk_RF-Switches
LIBS:dk_RF-Transceiver-ICs
LIBS:dk_RF-Transceiver-Modules
LIBS:dk_RF-Transmitters
LIBS:dk_Rotary-Potentiometers-Rheostats
LIBS:dk_Sensors-Transducers_Accessories
LIBS:dk_Signal-Relays-Up-to-2-Amps
LIBS:dk_Slide-Switches
LIBS:dk_Solid-State-Relays
LIBS:dk_Specialized-ICs
LIBS:dk_Specialized-Sensors
LIBS:dk_Surge-Suppression-ICs
LIBS:dk_Tactile-Switches
LIBS:dk_Temperature-Sensors-Analog-and-Digital-Output
LIBS:dk_Thermal-Cutoffs-Thermal-Fuses
LIBS:dk_Thyristors-DIACs-SIDACs
LIBS:dk_Thyristors-SCRs
LIBS:dk_Thyristors-TRIACs
LIBS:dk_Toggle-Switches
LIBS:dk_Transistors-Bipolar-BJT-Arrays
LIBS:dk_Transistors-Bipolar-BJT-RF
LIBS:dk_Transistors-Bipolar-BJT-Single
LIBS:dk_Transistors-Bipolar-BJT-Single-Pre-Biased
LIBS:dk_Transistors-FETs-MOSFETs-Arrays
LIBS:dk_Transistors-FETs-MOSFETs-RF
LIBS:dk_Transistors-FETs-MOSFETs-Single
LIBS:dk_Transistors-JFETs
LIBS:dk_Trimmer-Potentiometers
LIBS:dk_TVS-Diodes
LIBS:dk_TVS-Mixed-Technology
LIBS:dk_USB-DVI-HDMI-Connectors
LIBS:symbols
LIBS:TJA1042
LIBS:LM324AMX_NOPB
LIBS:ina2181a1
LIBS:MoCo_v0.1-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 7
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 4900 3650 2250 2300
U 5B3F536E
F0 "gate driver" 99
F1 "file5B3F536D.sch" 60
F2 "LIN1" I L 4900 4850 60 
F3 "HIN1" I L 4900 5225 60 
F4 "SD1" I L 4900 5600 60 
F5 "HO1" I R 7150 5575 60 
F6 "LO1" I R 7150 5000 60 
F7 "PH1" I R 7150 3950 60 
F8 "LIN2" I L 4900 4950 60 
F9 "HIN2" I L 4900 5325 60 
F10 "SD2" I L 4900 5700 60 
F11 "HO2" I R 7150 5700 60 
F12 "LO2" I R 7150 5150 60 
F13 "PH2" I R 7150 4100 60 
F14 "LIN3" I L 4900 5050 60 
F15 "HIN3" I L 4900 5425 60 
F16 "SD3" I L 4900 5800 60 
F17 "HO3" I R 7150 5825 60 
F18 "LO3" I R 7150 5300 60 
F19 "PH3" I R 7150 4250 60 
F20 "VB1" I R 7150 4450 60 
F21 "VB2" I R 7150 4600 60 
F22 "VB3" I R 7150 4750 60 
F23 "3.3V" I L 4900 3800 60 
F24 "12V" I R 7150 3750 60 
F25 "PH1_Source" I L 4900 4700 60 
F26 "PH2_Source" I L 4900 4600 60 
F27 "PH3_Source" I L 4900 4500 60 
$EndSheet
$Sheet
S 8150 3650 2400 2300
U 5B3FB243
F0 "ChargePump" 99
F1 "file5B3FB242.sch" 60
F2 "PH1" I L 8150 3950 60 
F3 "VB1" I L 8150 4450 60 
F4 "PH2" I L 8150 4100 60 
F5 "VB2" I L 8150 4600 60 
F6 "SHUNT+" I L 8150 3775 60 
F7 "PH3" I L 8150 4250 60 
F8 "VB3" I L 8150 4750 60 
$EndSheet
Wire Wire Line
	7150 3950 8150 3950
Wire Wire Line
	7150 4100 8150 4100
Wire Wire Line
	7150 4250 8150 4250
Wire Wire Line
	7150 4450 8150 4450
Wire Wire Line
	7150 4600 8150 4600
Wire Wire Line
	7150 4750 8150 4750
$Sheet
S 7025 1150 1750 1500
U 5B401D4C
F0 "BUCK" 99
F1 "file5B401D4B.sch" 60
F2 "+12v" I L 7025 1400 60 
$EndSheet
$Sheet
S 1300 3650 2700 3100
U 5B437297
F0 "MCU" 99
F1 "file5B437296.sch" 60
F2 "HIN3" I R 4000 5425 60 
F3 "LIN3" I R 4000 5050 60 
F4 "HIN2" I R 4000 5325 60 
F5 "LIN2" I R 4000 4950 60 
F6 "HIN1" I R 4000 5225 60 
F7 "LIN1" I R 4000 4850 60 
F8 "HALL_A" I L 1300 3850 60 
F9 "HALL_B" I L 1300 4000 60 
F10 "HALL_C" I L 1300 4150 60 
F11 "THROTTLE" I L 1300 4450 60 
F12 "BUS_SENSE" I L 1300 4975 60 
F13 "MODES" I L 1300 5150 60 
F14 "SD3" I R 4000 5800 60 
F15 "SD2" I R 4000 5700 60 
F16 "SD1" I R 4000 5600 60 
F17 "3.3V" I R 4000 3800 60 
F18 "5V" I R 4000 3700 60 
F19 "CURRENT_SENSE1" I L 1300 5550 60 
F20 "CURRENT_SENSE2" I L 1300 5775 60 
F21 "PH1" I R 4000 6125 60 
F22 "PH2" I R 4000 6250 60 
F23 "PH3" I R 4000 6375 60 
F24 "BRAKE" I L 1300 4625 60 
F25 "REVERSE" I L 1300 4800 60 
$EndSheet
$Sheet
S 4300 1150 1725 1650
U 5B484333
F0 "alternative power" 99
F1 "file5B484332.sch" 60
F2 "+12v" I R 6025 1400 60 
F3 "+5v" I L 4300 2350 60 
F4 "+3.3v" I L 4300 2625 60 
$EndSheet
$Sheet
S 1300 1175 1625 1800
U 5B495450
F0 "connector" 99
F1 "file5B49544F.sch" 60
F2 "THROTTLE" I L 1300 2075 60 
F3 "MODES" I L 1300 1525 60 
F4 "HALL_A" I L 1300 2550 60 
F5 "HALL_B" I L 1300 2425 60 
F6 "HALL_C" I L 1300 2300 60 
F7 "BUS_SENSE" I L 1300 1675 60 
F8 "5V" I R 2925 2125 60 
F9 "HO2" I R 2925 1575 60 
F10 "PH2" I R 2925 2475 60 
F11 "HO1" I R 2925 1675 60 
F12 "PH1" I R 2925 2575 60 
F13 "PH3" I R 2925 2375 60 
F14 "HO3" I R 2925 1475 60 
F15 "LO3" I R 2925 1800 60 
F16 "LO1" I R 2925 2000 60 
F17 "LO2" I R 2925 1900 60 
F18 "SHUNT+" I R 2925 1250 60 
F19 "CURRENT_SENSE1" I L 1300 1275 60 
F20 "3.3V" I R 2925 2225 60 
F21 "PH1_Source" I R 2925 2875 60 
F22 "PH2_Source" I R 2925 2775 60 
F23 "PH3_Source" I R 2925 2675 60 
F24 "BRAKE" I L 1300 1925 60 
F25 "REVERSE" I L 1300 1800 60 
$EndSheet
Wire Wire Line
	4000 5800 4900 5800
Wire Wire Line
	4000 4850 4900 4850
Wire Wire Line
	1300 2550 1250 2550
Wire Wire Line
	1250 2550 1250 3850
Wire Wire Line
	1250 3850 1300 3850
Wire Wire Line
	1300 2425 1175 2425
Wire Wire Line
	1175 2425 1175 4000
Wire Wire Line
	1175 4000 1300 4000
Wire Wire Line
	1300 2300 1100 2300
Wire Wire Line
	1100 2300 1100 4150
Wire Wire Line
	1100 4150 1300 4150
Wire Wire Line
	1300 2075 1000 2075
Wire Wire Line
	1000 2075 1000 4450
Wire Wire Line
	1300 1925 925  1925
Wire Wire Line
	925  1925 925  4625
Wire Wire Line
	825  1800 825  4800
Wire Wire Line
	825  4800 1300 4800
Wire Wire Line
	1300 1675 750  1675
Wire Wire Line
	750  1675 750  4975
Wire Wire Line
	750  4975 1300 4975
Wire Wire Line
	1300 1525 675  1525
Wire Wire Line
	675  1525 675  5150
Wire Wire Line
	675  5150 1300 5150
Wire Wire Line
	6025 1400 7025 1400
Wire Wire Line
	6450 2850 6450 1400
Connection ~ 6450 1400
Wire Wire Line
	4000 3800 4900 3800
Wire Wire Line
	3775 2625 4300 2625
Wire Wire Line
	4175 2625 4175 3800
Connection ~ 4175 3800
Wire Wire Line
	4050 3700 4000 3700
Connection ~ 4050 2350
Wire Wire Line
	7350 3425 7350 6125
Connection ~ 7350 3950
Wire Wire Line
	7450 3350 7450 6250
Connection ~ 7450 4100
Wire Wire Line
	7550 3300 7550 6375
Connection ~ 7550 4250
Wire Wire Line
	7350 6125 4000 6125
Wire Wire Line
	7450 6250 4000 6250
Wire Wire Line
	7550 6375 4000 6375
Wire Wire Line
	4050 2350 4300 2350
Wire Wire Line
	7225 2850 6450 2850
Wire Wire Line
	7225 3750 7225 2850
Wire Wire Line
	7150 3750 7225 3750
Wire Wire Line
	2925 2575 3200 2575
Wire Wire Line
	3200 2575 3200 3425
Wire Wire Line
	3200 3425 7350 3425
Wire Wire Line
	7450 3350 3250 3350
Wire Wire Line
	3250 3350 3250 2475
Wire Wire Line
	3250 2475 2925 2475
Wire Wire Line
	2925 2375 3300 2375
Wire Wire Line
	3300 2375 3300 3300
Wire Wire Line
	3300 3300 7550 3300
Wire Wire Line
	7150 5000 7625 5000
Wire Wire Line
	7625 5000 7625 3250
Wire Wire Line
	7625 3250 3350 3250
Wire Wire Line
	3350 3250 3350 2000
Wire Wire Line
	3350 2000 2925 2000
Wire Wire Line
	2925 1900 3400 1900
Wire Wire Line
	3400 1900 3400 3200
Wire Wire Line
	3400 3200 7675 3200
Wire Wire Line
	7675 3200 7675 5150
Wire Wire Line
	7675 5150 7150 5150
Wire Wire Line
	7150 5300 7725 5300
Wire Wire Line
	7725 5300 7725 3150
Wire Wire Line
	7725 3150 3450 3150
Wire Wire Line
	3450 3150 3450 1800
Wire Wire Line
	3450 1800 2925 1800
Wire Wire Line
	7150 5575 7775 5575
Wire Wire Line
	7775 5575 7775 3100
Wire Wire Line
	7775 3100 3500 3100
Wire Wire Line
	3500 3100 3500 1675
Wire Wire Line
	3500 1675 2925 1675
Wire Wire Line
	2925 1575 3550 1575
Wire Wire Line
	3550 1575 3550 3050
Wire Wire Line
	3550 3050 7825 3050
Wire Wire Line
	7825 3050 7825 5700
Wire Wire Line
	7825 5700 7150 5700
Wire Wire Line
	7150 5825 7875 5825
Wire Wire Line
	7875 5825 7875 3000
Wire Wire Line
	7875 3000 3600 3000
Wire Wire Line
	3600 3000 3600 1475
Wire Wire Line
	3600 1475 2925 1475
Wire Wire Line
	4900 5700 4000 5700
Wire Wire Line
	4900 5600 4000 5600
Wire Wire Line
	4900 5425 4000 5425
Wire Wire Line
	4900 5325 4000 5325
Wire Wire Line
	4900 5225 4000 5225
Wire Wire Line
	4900 5050 4000 5050
Wire Wire Line
	4900 4950 4000 4950
Wire Wire Line
	2925 2675 3150 2675
Wire Wire Line
	3150 2675 3150 3475
Wire Wire Line
	3150 3475 4650 3475
Wire Wire Line
	4650 3475 4650 4500
Wire Wire Line
	4650 4500 4900 4500
Wire Wire Line
	4900 4600 4575 4600
Wire Wire Line
	4575 4600 4575 3525
Wire Wire Line
	4575 3525 3100 3525
Wire Wire Line
	3100 3525 3100 2775
Wire Wire Line
	3100 2775 2925 2775
Wire Wire Line
	2925 2875 3050 2875
Wire Wire Line
	3050 2875 3050 3575
Wire Wire Line
	3050 3575 4500 3575
Wire Wire Line
	4500 3575 4500 4700
Wire Wire Line
	4500 4700 4900 4700
Wire Wire Line
	2925 2225 3775 2225
Wire Wire Line
	3775 2225 3775 2625
Connection ~ 4175 2625
Wire Wire Line
	4050 2125 4050 3700
Wire Wire Line
	4050 2125 2925 2125
Wire Wire Line
	8150 3775 8075 3775
Wire Wire Line
	8075 3775 8075 2900
Wire Wire Line
	8075 2900 3675 2900
Wire Wire Line
	3675 2900 3675 1250
Wire Wire Line
	3675 1250 2925 1250
Wire Wire Line
	1300 1275 600  1275
Wire Wire Line
	600  1275 600  5550
Wire Wire Line
	600  5550 1300 5550
Wire Wire Line
	1000 4450 1300 4450
Wire Wire Line
	925  4625 1300 4625
Wire Wire Line
	1300 1800 825  1800
$EndSCHEMATC
